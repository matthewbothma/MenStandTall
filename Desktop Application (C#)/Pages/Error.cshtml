@page
@model ErrorModel
@{
    ViewData["Title"] = "Error";
}

<link rel="stylesheet" href="~/css/utility-pages.css" asp-append-version="true" />

<!-- Error Header -->
<div class="utility-header">
    <div class="utility-header-content">
        <h1 class="utility-title"><i class="fas fa-exclamation-triangle"></i> Oops!</h1>
        <p class="utility-subtitle">Something went wrong on our end</p>
    </div>
</div>

<!-- Error Card -->
<div class="utility-card error-card">
    <div class="text-center">
        <div class="error-icon">
            <i class="fas fa-bug"></i>
        </div>
        
        <h1 class="error-title">We're Sorry!</h1>
        <p class="error-message">
            An unexpected error occurred while processing your request. 
            Our team has been notified and is working to fix this issue.
        </p>
    </div>

    @if (Model.ShowRequestId)
    {
        <div class="error-details">
            <div class="error-details-title">
                <i class="fas fa-info-circle"></i>
                Error Details
            </div>
            <p><strong>Request ID:</strong> <code class="request-id">@Model.RequestId</code></p>
            <p class="mb-0">Please include this Request ID when reporting the issue to our support team.</p>
        </div>
    }

    <div class="development-info">
        <h3>
            <i class="fas fa-code"></i>
            Development Information
        </h3>
        <p>
            You're currently viewing this page in <strong>Development</strong> mode, which displays 
            detailed error information to help with debugging.
        </p>
        <p>
            <strong>Important:</strong> The Development environment should never be enabled for 
            deployed applications as it can expose sensitive information to end users.
        </p>
        <p>
            For local debugging, the <strong>Development</strong> environment is enabled by setting 
            the <strong>ASPNETCORE_ENVIRONMENT</strong> environment variable to <strong>Development</strong> 
            and restarting the application.
        </p>
    </div>

    <!-- Contact Information -->
    <div class="contact-info">
        <h3>
            <i class="fas fa-headset"></i>
            Need Help?
        </h3>
        <div class="contact-item">
            <i class="fas fa-envelope"></i>
            <span>Email us at <strong>support@menstandtall.org</strong></span>
        </div>
        <div class="contact-item">
            <i class="fas fa-phone"></i>
            <span>Call us at <strong>+1 (555) 123-4567</strong></span>
        </div>
        <div class="contact-item">
            <i class="fas fa-clock"></i>
            <span>Available Monday-Friday, 9 AM - 5 PM EST</span>
        </div>
    </div>

    <!-- Action Buttons -->
    <div class="utility-actions">
        <a href="javascript:history.back()" class="btn-utility btn-back">
            <i class="fas fa-arrow-left"></i>
            Go Back
        </a>
        <a href="/" class="btn-utility btn-home">
            <i class="fas fa-home"></i>
            Return Home
        </a>
        <a href="mailto:support@menstandtall.org?subject=Error%20Report" class="btn-utility btn-report">
            <i class="fas fa-bug"></i>
            Report Issue
        </a>
    </div>
</div>

@section Scripts {
    <script>
        console.log('❌ Error page loaded');
        
        // Add some user-friendly interactions
        document.addEventListener('DOMContentLoaded', function() {
            // Auto-focus on the most relevant action button
            const backButton = document.querySelector('.btn-back');
            if (backButton) {
                backButton.focus();
            }
            
            // Add click tracking for error reporting
            const reportButton = document.querySelector('.btn-report');
            if (reportButton) {
                reportButton.addEventListener('click', function() {
                    console.log('📧 User initiated error report');
                });
            }
        });
    </script>
}
